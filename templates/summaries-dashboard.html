{% extends 'index.html' %} {% block
content %}
<h2>Summaries Dahsboard</h2>
<hr />
<div id="table"></div>
<script src="https://unpkg.com/gridjs/dist/gridjs.umd.js"></script>
<script>
  new gridjs.Grid({
    columns: [
      { id: 'summary_date', name: 'Summary Date' },
      { id: 'total_confirmed_bookings', name: 'Total Confirmed Bookings' },
      { id: 'total_declined_bookings', name: 'Total Declined Bookings' },
      { id: 'total_campsites_booked', name: 'Total Campsites Booked' },
      { id: 'total_sales', name: 'Total Sales' },
    ],
    data: [
      {% for summary in summaries %}
        {
          summary_date: '{{ summary.summary_date.strftime("%Y-%m-%d") }}',
          total_confirmed_bookings: '{{ summary.total_confirmed_bookings }}',
          total_declined_bookings: '{{ summary.total_declined_bookings }}',
          total_campsites_booked: '{{ summary.total_campsites_booked }}',
          total_sales: '${{ summary.total_sales }}',
        },
      {% endfor %}
    ],
    sort: true,
    pagination: true,
  }).render(document.getElementById('table'));
</script>
{% endblock %}
